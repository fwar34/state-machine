{
    "version": "2.0.0", // VS Code tasks.json 文件格式版本
    "options": { // 全局选项配置
        "env": { // 环境变量定义
            "CMAKE_GENERATOR": "MinGW Makefiles", // CMake生成器类型：MinGW Makefiles
            // "CMAKE_GENERATOR": "Ninja", // CMake生成器类型：Ninja
            "BUILD_PATH": "build" // 构建输出路径
        }
    },
    "tasks": [ // 任务列表定义
        {
            "label": "CMake Configure",
            "type": "process",
            "command": "bash",
            "args": [
                "-c",
                // CMAKE_GENERATOR为“MinGW Makefiles”，中间有空格，所以必须加反斜杠
                "python tasks.py config -B\"${BUILD_PATH}\" -G\"${CMAKE_GENERATOR}\""
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "presentation": {
                "echo": false,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": false,
                "clear": false
            }
        },
        {
            "label": "CMake Build", // 任务名称：CMake构建
            "type": "process", // 任务类型：直接进程调用
            "command": "bash", // 执行命令：bash shell
            "args": [ // 命令参数列表
                "-c",
                // CMAKE_GENERATOR为“MinGW Makefiles”，中间有空格，所以必须加反斜杠
                "python tasks.py build -B\"${BUILD_PATH}\" -G\"${CMAKE_GENERATOR}\""
            ],
            "group": { // 任务分组配置
                "kind": "build", // 分组类型：构建相关
                "isDefault": true // 设置为默认构建任务
            },
            "problemMatcher": [ // 问题匹配器，用于解析编译错误和警告
                {
                    "owner": "custom", // 匹配器所有者
                    "fileLocation": [ // 文件位置解析方式
                        "autoDetect", // 自动检测文件位置
                        "${workspaceFolder}" // 工作空间根目录作为基准路径
                    ],
                    "pattern": [ // 匹配模式定义
                        {
                            "regexp": "^(.*):(\\d+):(\\d+):\\s+(error:.*)", // 正则表达式匹配GCC风格错误
                            "file": 1, // 文件名匹配组
                            "line": 2, // 行号匹配组
                            "column": 3, // 列号匹配组
                            "message": 4 // 错误消息匹配组
                        }
                    ],
                    "severity": "error" // 问题严重程度：错误
                },
                {
                    "owner": "custom", // 匹配器所有者
                    "fileLocation": [ // 文件位置解析方式
                        "autoDetect", // 自动检测文件位置
                        "${workspaceFolder}" // 工作空间根目录作为基准路径
                    ],
                    "pattern": [ // 匹配模式定义
                        {
                            "regexp": "^(.*):(\\d+):(\\d+):\\s+(warning:.*)", // 正则表达式匹配GCC风格警告
                            "file": 1, // 文件名匹配组
                            "line": 2, // 行号匹配组
                            "column": 3, // 列号匹配组
                            "message": 4 // 警告消息匹配组
                        }
                    ],
                    "severity": "warning" // 问题严重程度：警告
                }
            ],
            "presentation": { // 任务执行时的显示选项
                "echo": false, // 不在输出中重复显示执行的命令
                "reveal": "always", // 总是显示输出面板
                "focus": false, // 不自动聚焦到输出面板
                "panel": "shared", // 使用共享输出面板
                "showReuseMessage": false, // 不显示任务可重用的消息
                "clear": false // 不清空之前的输出
            }
        },
        {
            "label": "CMake Delete", // 任务名称：删除CMake构建
            "type": "process", // 任务类型：直接进程调用
            "command": "bash", // 执行命令：bash shell
            "args": [ // 命令参数列表
                "-c", // bash的-c选项，用于执行后续的命令字符串
                "python tasks.py delete -B\"${BUILD_PATH}\"" // 调用Python脚本删除构建目录
            ],
            "group": { // 任务分组配置
                "kind": "build", // 分组类型：构建相关
                "isDefault": true // 设置为默认构建任务
            },
            "problemMatcher": [], // 无问题匹配器（删除操作通常不需要）
            "presentation": { // 任务执行时的显示选项
                "echo": false, // 不在输出中重复显示执行的命令
                "reveal": "always", // 总是显示输出面板
                "focus": false, // 不自动聚焦到输出面板
                "panel": "shared", // 使用共享输出面板
                "showReuseMessage": false, // 不显示任务可重用的消息
                "clear": false // 不清空之前的输出
            }
        }
    ]
}